clearignore
sysmsg "START CATALOGUE"
#Populate container lists
removelist 'container_graphic_ids'
createlist 'container_graphic_ids'
pushlist 'container_graphic_ids' 3705
pushlist 'container_graphic_ids' 2448
pushlist 'container_graphic_ids' 5402
pushlist 'container_graphic_ids' 2472
pushlist 'container_graphic_ids' 2473
pushlist 'container_graphic_ids' 2474
pushlist 'container_graphic_ids' 2475
pushlist 'container_graphic_ids' 2476
pushlist 'container_graphic_ids' 2477
pushlist 'container_graphic_ids' 2480
pushlist 'container_graphic_ids' 2481
pushlist 'container_graphic_ids' 2482
pushlist 'container_graphic_ids' 3701
pushlist 'container_graphic_ids' 3702
pushlist 'container_graphic_ids' 3704
pushlist 'container_graphic_ids' 3712


#Populate Items we care about
removelist 'item_graphic_ids'
createlist 'item_graphic_ids'
pushlist 'item_graphic_ids' 'rune'
pushlist 'item_graphic_ids' 'tray'
pushlist 'item_graphic_ids' 'bottle'
pushlist 'item_graphic_ids' 'full jars'
pushlist 'item_graphic_ids' 'deed'
pushlist 'item_graphic_ids' 'wall shelf'
pushlist 'item_graphic_ids' 'crate'
pushlist 'item_graphic_ids' 5901
pushlist 'item_graphic_ids' 17087
pushlist 'item_graphic_ids' 8032
pushlist 'item_graphic_ids' 8033
pushlist 'item_graphic_ids' 8031
pushlist 'item_graphic_ids' 8035
pushlist 'item_graphic_ids' 8029
pushlist 'item_graphic_ids' 8034
pushlist 'item_graphic_ids' 8037
pushlist 'item_graphic_ids' 8041
pushlist 'item_graphic_ids' 8042
pushlist 'item_graphic_ids' 8039
pushlist 'item_graphic_ids' 8038
pushlist 'item_graphic_ids' 42694
pushlist 'item_graphic_ids' 3657
pushlist 'item_graphic_ids' 29774
pushlist 'item_graphic_ids' 28883
pushlist 'item_graphic_ids' 28885
pushlist 'item_graphic_ids' 29773
pushlist 'item_graphic_ids' 28879
pushlist 'item_graphic_ids' 12215
pushlist 'item_graphic_ids' 2597
pushlist 'item_graphic_ids' 5362
pushlist 'item_graphic_ids' 12686
pushlist 'item_graphic_ids' 5356
pushlist 'item_graphic_ids' 8455
pushlist 'item_graphic_ids' 29348
pushlist 'item_graphic_ids' 19239
pushlist 'item_graphic_ids' 19227
pushlist 'item_graphic_ids' 29103
pushlist 'item_graphic_ids' 29863
pushlist 'item_graphic_ids' 42692
pushlist 'item_graphic_ids' 5363
pushlist 'item_graphic_ids' 7127
pushlist 'item_graphic_ids' 29447
pushlist 'item_graphic_ids' 5127
pushlist 'item_graphic_ids' 7109
pushlist 'item_graphic_ids' 3908
pushlist 'item_graphic_ids' 3897
pushlist 'item_graphic_ids' 11552
pushlist 'item_graphic_ids' 3718
pushlist 'item_graphic_ids' 15178
pushlist 'item_graphic_ids' 39860
pushlist 'item_graphic_ids' 5359
pushlist 'item_graphic_ids' 49711
pushlist 'item_graphic_ids' 28888
pushlist 'item_graphic_ids' 3897 
pushlist 'item_graphic_ids' 3985 
pushlist 'item_graphic_ids' 5356 
pushlist 'item_graphic_ids' 5981 
pushlist 'item_graphic_ids' 27611 
pushlist 'item_graphic_ids' 6464 
pushlist 'item_graphic_ids' 3530 
pushlist 'item_graphic_ids' 3836 
pushlist 'item_graphic_ids' 22336 
pushlist 'item_graphic_ids' 3843 
pushlist 'item_graphic_ids' 29025 
pushlist 'item_graphic_ids' 45285 
pushlist 'item_graphic_ids' 3842  
pushlist 'item_graphic_ids' 8826  
pushlist 'item_graphic_ids' 8901  
pushlist 'item_graphic_ids' 3834  
pushlist 'item_graphic_ids' 8787  
pushlist 'item_graphic_ids' 8786  
pushlist 'item_graphic_ids' 29036  
pushlist 'item_graphic_ids' 8012  
pushlist 'item_graphic_ids' 5903 
pushlist 'item_graphic_ids' 48407 
pushlist 'item_graphic_ids' 17686 
pushlist 'item_graphic_ids' 43167 
pushlist 'item_graphic_ids' 29030 
pushlist 'item_graphic_ids' 19235  
pushlist 'item_graphic_ids' 16898  
pushlist 'item_graphic_ids' 8788  
pushlist 'item_graphic_ids' 7107  
pushlist 'item_graphic_ids' 20495  
pushlist 'item_graphic_ids' 3827  
pushlist 'item_graphic_ids' 5356  
pushlist 'item_graphic_ids' 3920  
pushlist 'item_graphic_ids' 3713  
pushlist 'item_graphic_ids' 5117   
pushlist 'item_graphic_ids' 5042   
pushlist 'item_graphic_ids' 3721   
pushlist 'item_graphic_ids' 3762   
pushlist 'item_graphic_ids' 22187   
pushlist 'item_graphic_ids' 5078   
pushlist 'item_graphic_ids' 5187   
pushlist 'item_graphic_ids' 5049   
pushlist 'item_graphic_ids' 3568   
pushlist 'item_graphic_ids' 3911   
pushlist 'item_graphic_ids' 51100   
pushlist 'item_graphic_ids' 29048   
pushlist 'item_graphic_ids' 45085   
pushlist 'item_graphic_ids' 27612   
pushlist 'item_graphic_ids' 45085   
pushlist 'item_graphic_ids' 6264
pushlist 'item_graphic_ids' 19232
pushlist 'item_graphic_ids' 'scroll of calling'
pushlist 'item_graphic_ids' 51078
pushlist 'item_graphic_ids' 22326
pushlist 'item_graphic_ids' 23996
pushlist 'item_graphic_ids' 576
pushlist 'item_graphic_ids' 'dungeon seed'
pushlist 'item_graphic_ids' 'metal chest'
pushlist 'item_graphic_ids' 'chain link'
pushlist 'item_graphic_ids' 'research materials'


//gems
pushlist 'item_graphic_ids' 3861
pushlist 'item_graphic_ids' 3885
pushlist 'item_graphic_ids' 3877
pushlist 'item_graphic_ids' 3859
pushlist 'item_graphic_ids' 3862
pushlist 'item_graphic_ids' 3865
pushlist 'item_graphic_ids' 3873
pushlist 'item_graphic_ids' 29086
pushlist 'item_graphic_ids' 'emerald'

//crafts
pushlist 'item_graphic_ids' 11552
pushlist 'item_graphic_ids' 3718
pushlist 'item_graphic_ids' 3908
pushlist 'item_graphic_ids' 3897
pushlist 'item_graphic_ids' 5373
pushlist 'item_graphic_ids' 29001
pushlist 'item_graphic_ids' 8012

pushlist item_graphic_ids "martial arts scroll"
pushlist item_graphic_ids "halberd"
pushlist item_graphic_ids "bardiche"
pushlist item_graphic_ids "battle axe"
pushlist item_graphic_ids "double axe"
pushlist item_graphic_ids "two handed axe"
pushlist item_graphic_ids "executioner's axe"
pushlist item_graphic_ids "large battle axe"
pushlist item_graphic_ids "axe"
pushlist item_graphic_ids "scimitar"
pushlist item_graphic_ids "longsword"
pushlist item_graphic_ids "viking sword"
pushlist item_graphic_ids "katana"
pushlist item_graphic_ids "cutlass"
pushlist item_graphic_ids "broadsword"
pushlist item_graphic_ids "war hammer"
pushlist item_graphic_ids "war axe"
pushlist item_graphic_ids "maul"
pushlist item_graphic_ids "quarter staff"
pushlist item_graphic_ids "gnarled staff"
pushlist item_graphic_ids "black staff"
pushlist item_graphic_ids "hammer pick"
pushlist item_graphic_ids "club"
pushlist item_graphic_ids "shepherd's crook"
pushlist item_graphic_ids "war mace"
pushlist item_graphic_ids "mace"
pushlist item_graphic_ids "Long Spear"
pushlist item_graphic_ids "pitchfork"
pushlist item_graphic_ids "war fork"
pushlist item_graphic_ids "kryss"
pushlist item_graphic_ids "short spear"
pushlist item_graphic_ids "bow"
pushlist item_graphic_ids "crossbow"
pushlist item_graphic_ids "heavy crossbow"
pushlist item_graphic_ids "bladed staff"
pushlist item_graphic_ids "leather tunic"
pushlist item_graphic_ids "leather leggings"
pushlist item_graphic_ids "leather sleeves"
pushlist item_graphic_ids "leather cap"
pushlist item_graphic_ids "leather gloves"
pushlist item_graphic_ids "leather gorget"
pushlist item_graphic_ids "leather armor"
pushlist item_graphic_ids "leather bustier"
pushlist item_graphic_ids "leather shorts"
pushlist item_graphic_ids "leather skirt"
pushlist item_graphic_ids "studded tunic"
pushlist item_graphic_ids "studded leggings"
pushlist item_graphic_ids "studded sleeves"
pushlist item_graphic_ids "studded gloves"
pushlist item_graphic_ids "studded gorget"
pushlist item_graphic_ids "studded armor"
pushlist item_graphic_ids "studded bustier"
pushlist item_graphic_ids "bone armor"
pushlist item_graphic_ids "bone legs"
pushlist item_graphic_ids "bone arms"
pushlist item_graphic_ids "bone helmet"
pushlist item_graphic_ids "bone gloves"
pushlist item_graphic_ids "ringmail tunic"
pushlist item_graphic_ids "ringmail leggings"
pushlist item_graphic_ids "ringmail sleeves"
pushlist item_graphic_ids "helmet"
pushlist item_graphic_ids "ringmail gloves"
pushlist item_graphic_ids "orc helm"
pushlist item_graphic_ids "chainmail tunic"
pushlist item_graphic_ids "chainmail leggings"
pushlist item_graphic_ids "chainmail coif"
pushlist item_graphic_ids "platemail"
pushlist item_graphic_ids "platemail legs"
pushlist item_graphic_ids "platemail arms"
pushlist item_graphic_ids "plate helm"
pushlist item_graphic_ids "platemail gloves"
pushlist item_graphic_ids "platemail gorget"
pushlist item_graphic_ids "plate armor"
pushlist item_graphic_ids "bascinet"
pushlist item_graphic_ids "close helm"
pushlist item_graphic_ids "norse helm"
pushlist item_graphic_ids "wooden shield"
pushlist item_graphic_ids "kite shield"
pushlist item_graphic_ids "buckler "
pushlist item_graphic_ids "buckler"
pushlist item_graphic_ids "metal shield"
pushlist item_graphic_ids "bronze shield"
pushlist item_graphic_ids "kite shield"
pushlist item_graphic_ids "heater shield"
pushlist item_graphic_ids "Chaos shield"
pushlist item_graphic_ids "Order shield"
pushlist item_graphic_ids "lap harp"
pushlist item_graphic_ids "drum"
pushlist item_graphic_ids "lute"
pushlist item_graphic_ids "bamboo flute"
pushlist item_graphic_ids "tambourine"
pushlist item_graphic_ids "spellbook"


clearignore 
if not find 'foundBackpack'
    overhead "Select Vendors backpack"
    @setvar! 'foundBackpack'
endif

dclick 'foundBackpack'
@ignore 'foundBackpack'
wait 250
#Now we dig
#List items in top layer
foreach searchItem in 'item_graphic_ids'
    #Search through list
    while findtype searchItem 'foundBackpack' as foundItem
        #found an item, display it to log
        @getlabel 'foundItem' foundItemLabel
        sysmsg foundItemLabel 33
        @ignore foundItem
    endwhile
endfor
wait 250

#Start container part
foreach searchContainer in 'container_graphic_ids'
    while findtype searchContainer 'foundBackpack' as foundContainer
        dclick foundContainer
        wait 250
        @getlabel 'foundContainer' foundContainerLabel
        #output container label for bulk sells
        sysmsg foundContainerLabel 33
                
        #container is open, now search it
        foreach searchItem in 'item_graphic_ids'
            #Search through list
            while findtype searchItem 'foundContainer' as foundItem
                #found an item, display it to log
                @getlabel 'foundItem' foundItemLabel
                sysmsg foundItemLabel 33
                @ignore foundItem
            endwhile
        endfor
        wait 250
        @ignore foundContainer
    endwhile
endfor


sysmsg "FINISHED CATALOGUE"