if not timerexists "bandage"
    createtimer "bandage"
    settimer "bandage" 16000
endif

if timer 'bandage' >= 10000 and skill "Healing" < 80
    overhead 'healing'
    clearsysmsg 
    if skill "Healing" = 80
        stop
    endif
    if findtype 5912 self as wizardhat
        dclick wizardhat
        wait 300
        if findlayer self head
            wait 700
            dclick wizardhat
        endif
    else
        overhead "No wizard hat found! Please find wizard hat to continue. Stopping." 20
        stop
    endif
    wait 600
    if not findtype 3617
        overhead "No more bandages! Restock!" 20
    endif
    hotkey "Bandage Self"
    settimer 'bandage' 0
endif

if not timerexists "taste"
    createtimer "taste"
    settimer "taste" 16000
endif

if timer 'taste' >= 10500
    overhead 'taste'
    useskill 'TasteId'
    waitfortarget
    hotkey 'last target'
    settimer 'taste' 0
endif

loop